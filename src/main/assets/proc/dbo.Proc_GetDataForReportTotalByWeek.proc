{"Procedures":[{"Parameters":[{"Name":"@FromDate","SqlType":"STRING","Direction":1,"Size":255,"Precision":0,"Scale":0,"TestValue":"","Description":"Tham số"},{"Name":"@ToDate","SqlType":"STRING","Direction":1,"Size":255,"Precision":0,"Scale":0,"TestValue":"","Description":"Tham số"}],"Name":"Proc_GetDataForReportTotalByWeek","Owner":"dbo","Comment":"-- Author: vvtien\r\n-- Create date: 7.9.2016\r\n-- Modifier:\r\n-- Modify Date:\r\n-- Description: lấy BC tổng hợp theo tuần","Body":"select sum(SA.Amount) as Amount , Cast( strfTime('%w',SA.RefDate) as int) as DayOfWeek ,\r\n                 Date(SA.RefDate) as FromDate,  Date(SA.RefDate) as ToDate,\r\n             (Case When Cast(strfTime('%d',SA.RefDate) as int)  = 0 Then 7  Else Cast(strfTime('%d',SA.RefDate) as int)  End ) as SortOrder\r\n from SAInvoice SA \r\n Where Date(SA.RefDate) >= Date(@FromDate) And Date(SA.RefDate) < Date(@ToDate,'+1 day') \r\n       And SA.[PaymentStatus] = 3\r\ngroup by SortOrder,DayOfWeek ,FromDate,  ToDate\r\nOrder By SortOrder\r\n","FileName":null}]}